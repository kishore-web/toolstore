<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Dynamic Template Generator</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background: linear-gradient(135deg, #74abe2, #5563de);
        color: #fff;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 30px;
      }
      h2 {
        margin-bottom: 10px;
      }
      textarea,
      input {
        width: 100%;
        max-width: 600px;
        margin: 5px 0 15px;
        padding: 10px;
        border: none;
        border-radius: 8px;
        outline: none;
        font-size: 16px;
      }
      textarea {
        height: 100px;
      }
      button {
        background: #00c853;
        border: none;
        padding: 10px 20px;
        border-radius: 6px;
        color: white;
        font-size: 16px;
        cursor: pointer;
        transition: 0.3s;
      }
      button:hover {
        background: #00a944;
      }
      #inputs {
        margin-bottom: 20px;
      }
      .field {
        margin-bottom: 10px;
      }
      #output {
        background: #fff;
        color: #000;
        padding: 15px;
        border-radius: 8px;
        max-width: 600px;
        white-space: pre-wrap;
        word-wrap: break-word;
      }
    </style>
  </head>
  <body>
    <h2>ðŸ”§ Dynamic Template Generator</h2>

    <label
      ><b>Step 1:</b> Paste your template (use placeholders like &lt;name&gt;,
      &lt;form&gt;):</label
    >
    <textarea
      id="template"
      placeholder="Example: &lt;name&gt; Looking for internship opportunities? Fill out the form ðŸ‘‰ &lt;form&gt;"
    ></textarea>

    <button id="detectPlaceholders">Detect Placeholders</button>

    <div id="inputs"></div>

    <button id="convertBtn">Generate Output</button>

    <h3>Output:</h3>
    <div id="output"></div>
    <br />
    <button id="copyBtn">Copy Output</button>

    <script>
      const detectBtn = document.getElementById("detectPlaceholders");
      const inputContainer = document.getElementById("inputs");
      const convertBtn = document.getElementById("convertBtn");
      const outputDiv = document.getElementById("output");
      const copyBtn = document.getElementById("copyBtn");

      let placeholders = [];

      detectBtn.onclick = () => {
        const text = document.getElementById("template").value;
        const matches = [...text.matchAll(/<([^>]+)>/g)];
        placeholders = [...new Set(matches.map((m) => m[1]))];

        inputContainer.innerHTML = "";
        if (placeholders.length === 0) {
          inputContainer.innerHTML = "<p>No placeholders found.</p>";
          return;
        }

        placeholders.forEach((ph) => {
          const div = document.createElement("div");
          div.className = "field";
          div.innerHTML = `<label>${ph}: </label><input type="text" id="${ph}" placeholder="Enter value for ${ph}">`;
          inputContainer.appendChild(div);
        });
      };

      convertBtn.onclick = () => {
        let text = document.getElementById("template").value;
        placeholders.forEach((ph) => {
          const val = document.getElementById(ph)?.value || "";
          const regex = new RegExp(`<${ph}>`, "g");
          text = text.replace(regex, val);
        });
        outputDiv.textContent = text;
      };

      copyBtn.onclick = () => {
        navigator.clipboard.writeText(outputDiv.textContent);
        copyBtn.textContent = "âœ… Copied!";
        setTimeout(() => (copyBtn.textContent = "Copy Output"), 1500);
      };
    </script>
  </body>
</html>
